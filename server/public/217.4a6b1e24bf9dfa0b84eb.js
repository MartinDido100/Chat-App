"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[217],{9217:(k,p,l)=>{l.r(p),l.d(p,{AuthModule:()=>U});var m=l(8583),c=l(1643),h=l(8239),e=l(8186),_=l(1584),d=l(6518);let u=(()=>{class n{constructor(){this.googleLoading=!1}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C=(()=>{class n{constructor(o,t,s,g){this.router=o,this.cS=t,this.aS=s,this.gL=g,o.events.subscribe(a=>{a instanceof c.m2&&this.putMessages(a.url)})}ngOnInit(){this.gL.googleLoading=!1,this.cS.delete("token"),this.cS.deleteAll("/")}googleLogin(){var o=this;return(0,h.Z)(function*(){(yield o.aS.googleLogin()).subscribe(t=>{o.gL.googleLoading=!0,t&&o.router.navigateByUrl("/homepage")},t=>console.log)})()}putMessages(o){this.messagesByUrl="register"===o.substring(6)?{title:"Register an account",linesMsg:"or continue via email",qsMsg:"You have an account?",qsLink:"Login here",qsRoute:"/login"}:{title:"Log in to the chat",linesMsg:"or use your account",qsMsg:"Don't have account?",qsLink:"Register here",qsRoute:"register"}}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(c.F0),e.Y36(_.N),e.Y36(d.e),e.Y36(u))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-layout"]],decls:35,vars:5,consts:[[1,"auth-layout"],[1,"presentation"],[1,"icons-cont"],[1,"single-icon-cont"],[1,"presentation-p"],[1,"icon"],[1,"fas","fa-user-friends"],[1,"fas","fa-comments"],[1,"form-container"],[1,"google-button",3,"click"],["src","../../../../assets/images/Google Logo.png","alt","Google - Logo"],[1,"lines-cont"],[1,"line"],[1,"cont"],[1,"qs-cont"],[1,"qs"],[1,"link"],[3,"routerLink"]],template:function(o,t){1&o&&(e.TgZ(0,"section",0),e.TgZ(1,"div",1),e.TgZ(2,"h1"),e._uU(3,"Simple Friends and Chat App"),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"div",3),e.TgZ(6,"p",4),e._uU(7,"Add friends"),e.qZA(),e.TgZ(8,"div",5),e._UZ(9,"i",6),e.qZA(),e.qZA(),e.TgZ(10,"div",3),e.TgZ(11,"p",4),e._uU(12,"Chat with them"),e.qZA(),e.TgZ(13,"div",5),e._UZ(14,"i",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",8),e.TgZ(16,"h3"),e._uU(17),e.qZA(),e.TgZ(18,"div",9),e.NdJ("click",function(){return t.googleLogin()}),e._UZ(19,"img",10),e.TgZ(20,"p"),e._uU(21,"Continue with google"),e.qZA(),e.qZA(),e.TgZ(22,"div",11),e._UZ(23,"div",12),e.TgZ(24,"p"),e._uU(25),e.qZA(),e._UZ(26,"div",12),e.qZA(),e.TgZ(27,"div",13),e._UZ(28,"router-outlet"),e.qZA(),e.TgZ(29,"div",14),e.TgZ(30,"p",15),e._uU(31),e.TgZ(32,"span",16),e.TgZ(33,"a",17),e._uU(34),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(17),e.Oqu(t.messagesByUrl.title),e.xp6(8),e.Oqu(t.messagesByUrl.linesMsg),e.xp6(6),e.hij(" ",t.messagesByUrl.qsMsg," "),e.xp6(2),e.Q6J("routerLink",t.messagesByUrl.qsRoute),e.xp6(1),e.hij(" ",t.messagesByUrl.qsLink," "))},directives:[c.lC,c.yS],styles:[".auth-layout[_ngcontent-%COMP%]{width:100%;height:100vh;display:grid;grid-template-columns:repeat(auto-fit,minmax(1em,1fr))}.auth-layout[_ngcontent-%COMP%]   .presentation[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;justify-content:space-between;padding:9em 2em 23em;background-image:repeating-linear-gradient(-45deg,#fff,#fff 20px,#b1e0ff 20px,#b1e0ff 40px)}@media screen and (max-width: 1250px){.auth-layout[_ngcontent-%COMP%]   .presentation[_ngcontent-%COMP%]{display:none}}.auth-layout[_ngcontent-%COMP%]   .lines-cont[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;grid-gap:1em;gap:1em;margin-top:2em;width:90%;max-width:30em;margin-bottom:2em}.auth-layout[_ngcontent-%COMP%]   .lines-cont[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:5em;height:.2px;background:#a1a1a17c}.auth-layout[_ngcontent-%COMP%]   .lines-cont[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{white-space:nowrap;color:#2222229f;font-size:.8rem}.auth-layout[_ngcontent-%COMP%]   .single-icon-cont[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;grid-gap:1em;gap:1em;align-items:center}.auth-layout[_ngcontent-%COMP%]   .google-button[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;margin-top:2em;width:90%;max-width:30em;background:#fff;height:3em;display:flex;align-items:center;grid-gap:1em;gap:1em;padding-left:1em;border-radius:20px;box-shadow:0 0 3px #00000015,0 2px 3px #0000002b;transition:transform .1s}.auth-layout[_ngcontent-%COMP%]   .google-button[_ngcontent-%COMP%]:hover{transform:scale(.98)}.auth-layout[_ngcontent-%COMP%]   .google-button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:clamp(.5rem,3vw,1rem);white-space:nowrap}.auth-layout[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70%}.auth-layout[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]{width:90%;max-width:30em}.auth-layout[_ngcontent-%COMP%]   .presentation-p[_ngcontent-%COMP%]{font-size:1.5em;background:var(--primary);padding:.5em;border-radius:30px;color:#eee;white-space:nowrap}.auth-layout[_ngcontent-%COMP%]   .icons-cont[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;grid-gap:7em;gap:7em}.auth-layout[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:clamp(1.3rem,7vw,3rem);padding:.5em}.auth-layout[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{display:flex;padding:0 2em;align-items:center;justify-content:center;flex-direction:column;background:#fffefe;border-left:.2em solid #222;width:100%}@media screen and (max-width: 1250px){.auth-layout[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{border-left:none}}.auth-layout[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:inline-block;background:var(--primary);padding:.5em;border-radius:30px;color:#eee;font-size:1.7rem}.auth-layout[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:10em;height:10em;border-radius:50%;background:var(--primary);display:flex;align-items:center;justify-content:center;color:#fff;text-align:center}.auth-layout[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3em}.auth-layout[_ngcontent-%COMP%]   .qs-cont[_ngcontent-%COMP%]{margin-top:2em}.auth-layout[_ngcontent-%COMP%]   .qs[_ngcontent-%COMP%]{font-size:clamp(.7em,4vw,1em)}.auth-layout[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#0074cc}.auth-layout[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{-webkit-text-decoration-line:underline;text-decoration-line:underline}.auth-layout[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:clamp(.7em,4vw,1em)}"]}),n})();var r=l(665);let f=(()=>{class n{constructor(){this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$"}validateField(o,t,s){var g,a;return(null===(g=t.get(o))||void 0===g?void 0:g.hasError(s))&&(null===(a=t.get(o))||void 0===a?void 0:a.touched)}comparePaswords(o,t){return s=>{const g=s.get(o),a=s.get(t);if(!(null==a?void 0:a.errors)||!a.errors.noIguales)return(null==a?void 0:a.value)!==(null==g?void 0:g.value)?(null==a||a.setErrors({noIguales:!0}),{noIguales:!0}):(null==a||a.setErrors(null),null)}}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function v(n,i){1&n&&(e.TgZ(0,"div",13),e.TgZ(1,"p",14),e._uU(2,"Campo obligatorio"),e.qZA(),e.qZA())}function P(n,i){1&n&&(e.TgZ(0,"div",13),e.TgZ(1,"p",14),e._uU(2,"Campo obligatorio"),e.qZA(),e.qZA())}function M(n,i){if(1&n&&(e.TgZ(0,"div",15),e.TgZ(1,"p",16),e._uU(2),e.qZA(),e.qZA()),2&n){const o=e.oxw();e.xp6(2),e.Oqu(o.loginError)}}function Z(n,i){1&n&&e._UZ(0,"div",17)}function y(n,i){1&n&&(e.TgZ(0,"div",14),e.TgZ(1,"p",15),e._uU(2,"Campo obligatorio"),e.qZA(),e.qZA())}function b(n,i){1&n&&(e.TgZ(0,"div",14),e.TgZ(1,"p",15),e._uU(2,"Campo obligatorio"),e.qZA(),e.qZA())}function T(n,i){1&n&&(e.TgZ(0,"div",14),e.TgZ(1,"p",15),e._uU(2,"Campo obligatorio"),e.qZA(),e.qZA())}function q(n,i){1&n&&(e.TgZ(0,"div",14),e.TgZ(1,"p",15),e._uU(2,"Las contrase\xf1as no coinciden"),e.qZA(),e.qZA())}function w(n,i){if(1&n&&(e.TgZ(0,"div",16),e.TgZ(1,"p",17),e._uU(2),e.qZA(),e.qZA()),2&n){const o=e.oxw();e.xp6(2),e.Oqu(o.registerError)}}function A(n,i){1&n&&e._UZ(0,"div",18)}const x=[{path:"",component:C,children:[{path:"login",component:(()=>{class n{constructor(o,t,s,g,a){this.fB=o,this.router=t,this.aS=s,this.vS=g,this.gL=a,this.viewPass=!1,this.loginError="",this.submited=!1,this.cargando=!1,this.loginForm=this.fB.group({username:["",[r.kI.required,r.kI.min(3)]],password:["",[r.kI.required,r.kI.min(6)]]})}get googleLoading(){return this.gL.googleLoading}ngOnInit(){}checkPassView(){return this.viewPass?"fas fa-eye":"fas fa-eye-slash"}checkInputType(){return this.viewPass?"text":"password"}validateField(o,t){return this.vS.validateField(o,this.loginForm,t)}login(){if(this.submited=!0,this.loginForm.invalid)return this.cargando=!1,void this.loginForm.markAllAsTouched();this.cargando=!0;const{username:o,password:t}=this.loginForm.value;this.aS.login(o,t).subscribe(s=>{s&&this.router.navigateByUrl("/homepage")},s=>{this.loginError=s.error.msg,this.cargando=!1})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(r.qu),e.Y36(c.F0),e.Y36(d.e),e.Y36(f),e.Y36(u))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:18,vars:10,consts:[["autocomplete","off",1,"form",3,"formGroup","ngSubmit"],[1,"form-field"],["for","username"],["type","text","placeholder","Username","id","username","formControlName","username"],["class","formerror-cont",4,"ngIf"],["for","password"],[1,"password-input"],["placeholder","Password","id","password","formControlName","password",3,"type"],[1,"eye-icon"],[3,"click"],["class","error-cont",4,"ngIf"],["type","submit"],["class","spinner",4,"ngIf"],[1,"formerror-cont"],[1,"formerror-msg"],[1,"error-cont"],[1,"error-msg"],[1,"spinner"]],template:function(o,t){1&o&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return t.login()}),e.TgZ(1,"div",1),e.TgZ(2,"label",2),e._uU(3,"Username"),e.qZA(),e._UZ(4,"input",3),e.YNc(5,v,3,0,"div",4),e.qZA(),e.TgZ(6,"div",1),e.TgZ(7,"label",5),e._uU(8,"Password"),e.qZA(),e.TgZ(9,"div",6),e._UZ(10,"input",7),e.TgZ(11,"div",8),e.TgZ(12,"i",9),e.NdJ("click",function(){return t.viewPass=!t.viewPass}),e.qZA(),e.qZA(),e.qZA(),e.YNc(13,P,3,0,"div",4),e.YNc(14,M,3,1,"div",10),e.qZA(),e.TgZ(15,"button",11),e.YNc(16,Z,1,0,"div",12),e._uU(17," Login "),e.qZA(),e.qZA()),2&o&&(e.Q6J("formGroup",t.loginForm),e.xp6(5),e.Q6J("ngIf",t.validateField("username","required")&&t.submited),e.xp6(5),e.Q6J("type",t.checkInputType()),e.xp6(2),e.Tol(t.checkPassView()),e.xp6(1),e.Q6J("ngIf",t.validateField("password","required")&&t.submited),e.xp6(1),e.Q6J("ngIf",t.loginError),e.xp6(1),e.ekj("trans",t.googleLoading||t.cargando),e.xp6(1),e.Q6J("ngIf",t.cargando||t.googleLoading))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,m.O5],styles:[".form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;grid-gap:2em;gap:2em}.form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;grid-gap:.5em;gap:.5em}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none;outline:none;background:#ecf2f7;padding:1em 1.4em;border-radius:10px;border:2px solid transparent;transition:border .2s ease-in}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9998988a}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:2px solid #222}.form[_ngcontent-%COMP%]   .password-input[_ngcontent-%COMP%]{position:relative}.form[_ngcontent-%COMP%]   .eye-icon[_ngcontent-%COMP%]{position:absolute;right:1.5em;bottom:1.1em}.form[_ngcontent-%COMP%]   .eye-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer;font-size:1.3em;color:#9998988a}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:.4em}.form[_ngcontent-%COMP%]   .trans[_ngcontent-%COMP%]{color:transparent}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border:none;outline:none;background:var(--primary);border-radius:10px;padding:.8em 1.4em;color:#eee;cursor:pointer;transition:transform .1s}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(.98)}.form[_ngcontent-%COMP%]   .error-cont[_ngcontent-%COMP%]{margin-left:.4em}.form[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{color:#c00;font-size:.8em}.form[_ngcontent-%COMP%]   .formerror-msg[_ngcontent-%COMP%]{margin-left:.4em}.form[_ngcontent-%COMP%]   .formerror-msg[_ngcontent-%COMP%]{color:#c00;font-size:.8em}.spinner[_ngcontent-%COMP%]{position:absolute;left:0;right:0;margin:auto;align-self:center;border:4px solid rgba(0,0,0,.1);width:30px;height:30px;border-radius:50%;border-left-color:#eee;animation:spin 1s ease infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})()},{path:"register",component:(()=>{class n{constructor(o,t,s,g,a){this.fB=o,this.vS=t,this.aS=s,this.router=g,this.gL=a,this.registerError="",this.submited=!1,this.cargando=!1,this.registerText="Register",this.registerForm=this.fB.group({username:["",r.kI.required],email:["",[r.kI.required,r.kI.pattern(this.vS.emailPattern)]],password:["",[r.kI.required,r.kI.minLength(6)]],confirmP:["",[r.kI.required,r.kI.minLength(6)]]},{validators:[this.vS.comparePaswords("password","confirmP")]})}ngOnInit(){}get googleLoading(){return this.gL.googleLoading}validateField(o,t){return this.vS.validateField(o,this.registerForm,t)}register(){if(this.submited=!0,this.registerForm.invalid)return this.cargando=!1,void this.registerForm.markAllAsTouched();this.cargando=!0;const{username:o,email:t,password:s}=this.registerForm.value;this.aS.register(o,t,s).subscribe(g=>{g&&this.router.navigateByUrl("/homepage")},g=>{this.registerError=g.error.msg,this.cargando=!1})}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(r.qu),e.Y36(f),e.Y36(d.e),e.Y36(c.F0),e.Y36(u))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],decls:25,vars:10,consts:[["autocomplete","off",1,"form",3,"formGroup","ngSubmit"],[1,"form-field"],["for","username"],["type","text","placeholder","Username","id","username","formControlName","username"],["class","formerror-cont",4,"ngIf"],["for","email"],["type","email","placeholder","example@example.com","id","email","formControlName","email"],["for","password"],["type","password","placeholder","Password","id","password","formControlName","password"],["for","confirm"],["type","password","id","confirm","formControlName","confirmP"],["class","error-cont",4,"ngIf"],["type","submit"],["class","spinner",4,"ngIf"],[1,"formerror-cont"],[1,"formerror-msg"],[1,"error-cont"],[1,"error-msg"],[1,"spinner"]],template:function(o,t){1&o&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return t.register()}),e.TgZ(1,"div",1),e.TgZ(2,"label",2),e._uU(3,"Username*"),e.qZA(),e._UZ(4,"input",3),e.YNc(5,y,3,0,"div",4),e.qZA(),e.TgZ(6,"div",1),e.TgZ(7,"label",5),e._uU(8,"Email*"),e.qZA(),e._UZ(9,"input",6),e.YNc(10,b,3,0,"div",4),e.qZA(),e.TgZ(11,"div",1),e.TgZ(12,"label",7),e._uU(13,"Password*"),e.qZA(),e._UZ(14,"input",8),e.YNc(15,T,3,0,"div",4),e.qZA(),e.TgZ(16,"div",1),e.TgZ(17,"label",9),e._uU(18,"Confrim password*"),e.qZA(),e._UZ(19,"input",10),e.YNc(20,q,3,0,"div",4),e.YNc(21,w,3,1,"div",11),e.qZA(),e.TgZ(22,"button",12),e.YNc(23,A,1,0,"div",13),e._uU(24),e.qZA(),e.qZA()),2&o&&(e.Q6J("formGroup",t.registerForm),e.xp6(5),e.Q6J("ngIf",t.validateField("username","required")&&t.submited),e.xp6(5),e.Q6J("ngIf",t.validateField("email","required")&&t.submited),e.xp6(5),e.Q6J("ngIf",t.validateField("password","required")&&t.submited),e.xp6(5),e.Q6J("ngIf",t.validateField("confirmP","noIguales")&&t.submited),e.xp6(1),e.Q6J("ngIf",t.registerError),e.xp6(1),e.ekj("trans",t.googleLoading||t.cargando),e.xp6(1),e.Q6J("ngIf",t.cargando||t.googleLoading),e.xp6(1),e.hij(" ",t.registerText," "))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,m.O5],styles:[".form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;grid-gap:2em;gap:2em}.form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;grid-gap:.5em;gap:.5em}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none;outline:none;background:#ecf2f7;padding:1em 1.4em;border-radius:10px;border:2px solid transparent;transition:border .2s ease-in}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9998988a}.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:2px solid #222}.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:.4em}.form[_ngcontent-%COMP%]   .trans[_ngcontent-%COMP%]{color:transparent}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;border:none;outline:none;background:var(--primary);border-radius:10px;padding:.8em 1.4em;color:#eee;cursor:pointer;transition:transform .1s}.form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(.98)}.form[_ngcontent-%COMP%]   .error-cont[_ngcontent-%COMP%]{margin-left:.4em}.form[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{color:#c00;font-size:.8em}.form[_ngcontent-%COMP%]   .formerror-msg[_ngcontent-%COMP%]{margin-left:.4em}.form[_ngcontent-%COMP%]   .formerror-msg[_ngcontent-%COMP%]{color:#c00;font-size:.8em}.spinner[_ngcontent-%COMP%]{position:absolute;left:0;right:0;margin:auto;align-self:center;border:4px solid rgba(0,0,0,.1);width:30px;height:30px;border-radius:50%;border-left-color:#eee;animation:spin 1s ease infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})()},{path:"**",redirectTo:"login"}]}];let L=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[c.Bz.forChild(x)],c.Bz]}),n})(),U=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.ez,L,r.UX]]}),n})()}}]);